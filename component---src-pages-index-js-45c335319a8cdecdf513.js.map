{"version":3,"file":"component---src-pages-index-js-45c335319a8cdecdf513.js","mappings":"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","sources":["webpack://opiskelijalounas/./src/components/RestaurantCardMenuComponent.js","webpack://opiskelijalounas/./src/utils/functions.js","webpack://opiskelijalounas/./src/components/RestaurantCardComponent.js","webpack://opiskelijalounas/./src/images/favorite_full.png","webpack://opiskelijalounas/./src/images/favorite_border.png","webpack://opiskelijalounas/./src/components/SearchBarComponent.js","webpack://opiskelijalounas/./src/pages/index.js"],"sourcesContent":["import React from \"react\";\n\nconst RestaurantCardMenuComponent = (props) => {\n  const { menu } = props;\n\n  const _renderMenu = () => {\n    return (\n      <div>\n        {menu.map((meal) => (\n          <div key={meal.name}>\n            <div style={view_header_row_container}>\n              <p style={text_header_meal_type}>{meal.type}</p>\n              <p style={text_price}>{meal.price}</p>\n            </div>\n            <p style={text_meal_name}>{meal.name}</p>\n          </div>\n        ))}\n      </div>\n    );\n  };\n  return <div style={view_container}>{_renderMenu()}</div>;\n};\n\nconst view_container = {\n  backgroundColor: \"white\",\n};\n\nconst view_header_row_container = {\n  display: \"flex\",\n  flexDirection: \"row\",\n  margin: 24,\n  marginBottom: 4,\n  alignItems: \"center\",\n  flexWrap: \"wrap\",\n};\n\nconst text_header_meal_type = {\n  color: \"black\",\n  fontFamily: \"sans-serif\",\n  fontWeight: \"bold\",\n  fontSize: 16,\n  marginTop: 0,\n  marginBottom: 0,\n};\n\nconst text_price = {\n  color: \"gray\",\n  fontFamily: \"sans-serif\",\n  fontWeight: \"bold\",\n  marginLeft: 6,\n  marginTop: 0,\n  marginBottom: 0,\n  fontSize: 14,\n};\n\nconst text_meal_name = {\n  color: \"black\",\n  fontFamily: \"sans-serif\",\n  fontSize: 15,\n  marginLeft: 30,\n  marginBottom: 12,\n  marginTop: 8,\n};\n\nexport default RestaurantCardMenuComponent;\n","export const mint_green = \"#d6ffc7\";\n\nexport const _getGist = async () => {\n  const response = await fetch(\n    \"https://raw.githubusercontent.com/ollitoivanen/OpiskelijalounasWebFetchAction/main/all_restaurants_menu.json\"\n  );\n  const data = await response.text();\n  const jsonData = JSON.parse(data);\n  return jsonData;\n};\n\nexport const _searchRestaurantNames = (searchTerm, restaurantData) => {\n  const matchingRestaurants = [];\n  for (const restaurant of restaurantData) {\n    if (restaurant.name.toLowerCase().includes(searchTerm.toLowerCase())) {\n      matchingRestaurants.push(restaurant);\n    }\n  }\n\n  return matchingRestaurants;\n};\n\n//Adding favorites\n\nexport const _checkIfRestaurantIsFavorite = (\n  restaurant,\n  favoriteRestaurants\n) => {\n  if (favoriteRestaurants.includes(restaurant)) return true;\n  return false;\n};\n\n//Storage\n\nexport const _getFavoriteRestaurants = async () => {\n  try {\n    const jsonValue = await localStorage.getItem(\"favorite_restaurants\");\n    if (jsonValue === null) return [];\n    return JSON.parse(jsonValue);\n  } catch (e) {\n    return;\n  }\n};\n\nexport const _storeFavoriteRestaurants = async (value) => {\n  try {\n    const jsonValue = JSON.stringify(value);\n    await localStorage.setItem(\"favorite_restaurants\", jsonValue);\n    return true;\n  } catch (e) {\n    return false;\n  }\n};\n","import React, { useEffect, useState } from \"react\";\n\nimport RestaurantCardMenuComponent from \"./RestaurantCardMenuComponent\";\nimport {\n  _checkIfRestaurantIsFavorite,\n  _getFavoriteRestaurants,\n  _storeFavoriteRestaurants,\n} from \"../utils/functions\";\n\nimport favorite_full from \"../images/favorite_full.png\";\nimport favorite_border from \"../images/favorite_border.png\";\n\nconst RestaurantCardComponent = (props) => {\n  const { favoriteRestaurants, restaurantData } = props;\n  const { name, url, openHours, menu } = restaurantData;\n  const [favoriteRestaurant, setFavoriteRestaurant] = useState(false);\n  useEffect(() => {\n    if (_checkIfRestaurantIsFavorite(name, favoriteRestaurants)) {\n      setFavoriteRestaurant(true);\n    }\n  }, []);\n\n  const _determineFavoriteIcon = () => {\n    if (favoriteRestaurant) {\n      return <img style={image_favorite} src={favorite_full}></img>;\n    }\n    return <img style={image_favorite} src={favorite_border}></img>;\n  };\n\n  const _onFavoriteIconPress = async () => {\n    let currentFavoriteRestaurants = await _getFavoriteRestaurants();\n    if (!Array.isArray(currentFavoriteRestaurants)) return;\n    if (_checkIfRestaurantIsFavorite(name, currentFavoriteRestaurants)) {\n      await _removeFavoriteRestaurant(name, currentFavoriteRestaurants);\n    } else {\n      await _addFavoriteRestaurant(name, currentFavoriteRestaurants);\n    }\n  };\n\n  const _addFavoriteRestaurant = async (\n    newFavoriteRestaurant,\n    currentFavoriteRestaurants\n  ) => {\n    //Immediately change to full heart to give user feedback\n    setFavoriteRestaurant(true);\n    currentFavoriteRestaurants.push(newFavoriteRestaurant);\n    const success = await _storeFavoriteRestaurants(currentFavoriteRestaurants);\n    if (success === undefined) setFavoriteRestaurant(false);\n  };\n\n  const _removeFavoriteRestaurant = async (\n    name,\n    currentFavoriteRestaurants\n  ) => {\n    setFavoriteRestaurant(false);\n\n    const indexOfRestaurant = currentFavoriteRestaurants.indexOf(name);\n    currentFavoriteRestaurants.splice(indexOfRestaurant, 1);\n\n    await _storeFavoriteRestaurants(currentFavoriteRestaurants);\n  };\n  return (\n    <div style={view_container}>\n      <div style={view_row_container}>\n        <a href={url} style={text_restaurant_name}>\n          {name}\n        </a>\n        <a style={image_favorite} onClick={() => _onFavoriteIconPress()}>\n          {_determineFavoriteIcon()}\n        </a>\n      </div>\n      <p style={text_restaurant_open_hours}>{openHours}</p>\n      <RestaurantCardMenuComponent menu={menu} />\n    </div>\n  );\n};\n\nconst view_container = {\n  backgroundColor: \"white\",\n  borderStyle: \"solid\",\n  borderColor: \"black\",\n  borderWidth: 3,\n  borderRadius: 10,\n  margin: 8,\n  marginTop: 16,\n  marginBottom: 16,\n  paddingTop: 16,\n  paddingBottom: 16,\n  paddingRight: 16,\n};\n\nconst view_row_container = {\n  display: \"flex\",\n  flexDirection: \"row\",\n  alignItems: \"center\",\n  flexWrap: \"wrap\",\n  margin: 16,\n};\n\nconst image_favorite = {\n  height: 24,\n  width: 24,\n};\n\nconst text_restaurant_name = {\n  color: \"black\",\n  fontFamily: \"sans-serif\",\n  fontWeight: \"bold\",\n  textDecoration: \"none\",\n  fontSize: 24,\n  marginRight: 12,\n};\n\nconst text_restaurant_open_hours = {\n  color: \"black\",\n  fontFamily: \"sans-serif\",\n  fontWeight: \"bold\",\n  fontSize: 20,\n  marginLeft: 20,\n  marginTop: 0,\n};\n\nexport default RestaurantCardComponent;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAADIElEQVR4Ae3ZA7AkZwBF4ey8iW07pdi2bdu2bVvF8JVirVWIzcLatjHzcHNirNo9M31P1VdW89diLqGcc84555xzzjnn3Ao4Ck+hE/piLPSn4eiHD/EojsKySKtlcRQexYfoh+HQn8aiLzrhKRyFFVBXlXESOqEKhTQXPXEylkDclsDJ6Im5UEhVdMJJKKNmK+EiDIISMhY3YSmEbSnchLFQQgbhIpRQU+2I76GUjMApCNopGAGl5HvsiJroBlShDLyDVbGgVsU7UAaquAG5VUYzlLEh2AL/bwsMgTLWjHIeN78jlJNp2Bd/tS+mQTnpiDIyqQOaoZzNxG5/mgnlrBkdkHo3QDViyp9UI25Aqu2ICmTzVcGOSKVSoKmmfY8SEu8iyAK5CIlWxiDIAhmEMhLrJCgUOwmJ1QkKxTohkVZEFQrFqlgRsTsKisSOQuwehyKxxxG7zpBF0hmx6wdZJP0Qu4mQRTIRsatAFkkFsZsDWSRzELtxkEUyDrHrD1kk/RG77pBF0h2xewqySJ5C7M6BLJJzELv10A6FYu1YD4n0CxSK/YLEegAKxR5AYm2MNsgCacPGSLRekAXSC4l3CGSBHIpU+gpaKPsKRP4KcnEIUq0jNF/WEam3MWZD/2GzsTEy6TboP+x2ZFYTPod+Z1+gCZm2KWZABTcDmyGXzoAK7kzk2gtQQb2I3FuioOPBF1gCNdEaGAIVxBCsiZpqC0yFGtxUbIma7EBUoAZVwUGo6U5BG9Rg2nAa6qLLoAZzBeqqO6AGcRfqsvugOvcg6rpHoTr1BBqiJ6A68zQaqoehOvE4cspjwkPIKR/m3I1CdCXaoRrRjutQqM5FK5SzNlyEQnYiKlBOqjgVhe4gzIQyNguHw9GumARlZCr2hPtXW2AUlLKx2BZuPm2IflBKBmFTuIW0Or6FEvYz1oIL0HLoDSXkE6yIELkl8CYU04dYCi5CJbwARfQymuByOF17GC7BLgy4ddGGq5FC7ljMgRagglOQYm5vTIX+Zzr2h8ugrTEa+tMYbAeXYRujPwZgU7gcWgOoj5xzzjnnnHPOOfcrUImXYa/HxMcAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAFFUlEQVR4Ae3bA5DlShSA4bdj1dpW4dm2bdu2bdu2zbVt27Yx5nl/Va2RnEw6uUj/VV95PLdzupO7i6FsNpvNZrPZbDabzWaz2Wy2mjgTb6IDpmIpZIP5mIZ/8ArORC6CKhdn4hX8g2mYD9lgKaaiA97EmaiJhCoNF6IDyiAelaA7LkIG/JaBi9AdJRCPytABFyINcVsKbsQsiCFL8SCy4LUsPIilEENm4UakIK46AKMgAVmAi6HtYiyABGQUDkBcdD/KICH4HfWws+rhd0gIynB/rNf6byEhm4PdsW27Yw4kZN8iLRa//P8gMbIOx2Bjx2AdJEb+C/OPUAPfQmKsAIduUACJsW9RI5w13/ta2QcP4Bi0Rg4y0BqH4UF0RjnEgzUbiAfl6IIHcRhaIwM5aI1j8AD6VOPadn8Y006ph3n+LdSHtiZ4Aqshhq3BE2gCbfXxlof9Q2mQ01GKh1GzL1qgutXDR6iCGPAx6qG6tUBfDyNqCox3o4cfNg0mOgdrfV6szzU4eHwMUbgxiKlnluqXb749sQLi0SrsDdNp/gizTE9FFyqXnXQE0b5YD1EqCHAtTlcuRxfCWB0gDorRAkF2NUTpRgRZCxRDHHSAkWopxrG3EEb/Qlx0RRi9pRi/a8F3Zyq+UAOE0d6KyehghFEDxT/mmfDdaxAHfRBmN+PpnbgDYdYH4uA1+K6jYvcXrfSnAh3hu2kQB0cgqh0BcTANvlsJcdAeUa09xMFK+K4U4iAPUS3P9WzIQG7zbhaiWpbr/shAyyAOmiCqNYE4WAbfTYc4OAhR7SCIg+nwXVeIg1sQ1W4JY1f+JsTBd4hq30EcvBnGIdhqpCNqpSvu3F0N3zVXnL+chqh1GsRBFZrDSOMhDjojanWGOBgPYz2v+Gvvhqi0m2JVeB7GaoNKiIO/EJX+gjioRBsYrQfExeFI9g6HuOgB450CcTEW6Uk++YyFuDgZgTQU4uIJJGtPQFwMRWCdDHFRgn2QbO2DksD/+xX9B3ExDXlJduw8TfmUdOC1QRHExY9Iln6EuChCG4TSYxCFB5DoPQBReBShlYrBEBcVOAWJ2imogLgYhNRY3A/NVz4guzcSrb2V77rJRzvEpCsgCovQColSKyyCKFyOmPYBRGEy6iPeq4/JEIX3EfMyMBiiMBK1EK/VwkiIwiBkIC5qhDkQhQHIQbyVgwEQhTloiLhqD6yFKPRCNuKlbPSCKKzF7ojLTkQpRKEnsuPkl98TolCKExDXXYpKiEIP5MR42ekBUajExUiIboco9UVejM53+kKUbkVC9SREaRBqhTztDIIoPY6E7AWI0gjUD2nOHwFRehYJ3esQpUloiqBqikkQpVeQFL0FUZqFtjBdW8yCKL2OpOo1iNIiw7P27lgEUXoJSdmLEKVVOBR+OxSrIrPmK3oKolSAk33ewy6AKD2KSHQvqjzsPi+F1y71sCuvwh2IVDd62DFX4i5ou8vD567ANYhkl6AMovSi4etMKS5ApDsNhRClz5GKbUvF5x6vLyeCbEdgLUTpn21OUrPxj8cJ6xDYtmgfLIUo9UftDfqb2WPY2nncrY7dQJSmoRVsDjXGOIhhI9AANkW10B9iSE/kweahLPwD8ekXZMBWjVLxBaSa3kcKfGZ7CQLE6i6WTXu8UIEbEEC2i10O2IpxDgLMdhzW7+SBqaNgC6F9sQSywWLsBVuItcMMTEcb2GJQQyAxstlsNpvNZrPZbDabzfY/eZ7SAqnSkNcAAAAASUVORK5CYII=\"","import React from \"react\";\nimport { _searchRestaurantNames } from \"../utils/functions\";\n\nconst SearchBarComponent = (props) => {\n  const { restaurantData, renderMatchingRestaurants } = props;\n\n  const _searchTermChanged = (newSearchTerm) => {\n    console.log(newSearchTerm.target.value);\n    let matchingRestaurants = _searchRestaurantNames(\n      newSearchTerm.target.value,\n      restaurantData\n    );\n\n    renderMatchingRestaurants(matchingRestaurants);\n  };\n  return (\n    <span style={container}>\n      <input\n        style={text_input}\n        type=\"text\"\n        onChange={_searchTermChanged}\n        placeholder={\"Hae ravintoloita\"}\n      />\n    </span>\n  );\n};\n\nconst container = {\n  display: \"flex\",\n  overflow: \"hidden\",\n};\n\nconst text_input = {\n  display: \"flex\",\n  fontSize: 20,\n  color: \"black\",\n  fontFamily: \"sans-serif\",\n  fontWeight: \"bold\",\n  borderStyle: \"solid\",\n  backgroundColor: \"white\",\n  justifyContent: \"center\",\n  padding: 16,\n  borderRadius: 10,\n  borderWidth: 3,\n  borderColor: \"black\",\n  width: \"100%\",\n  marginLeft: 8,\n  marginRight: 8,\n};\n\nexport default SearchBarComponent;\n","import React, { useState, useEffect } from \"react\";\nimport RestaurantCardComponent from \"../components/RestaurantCardComponent\";\nimport SearchBarComponent from \"../components/SearchBarComponent\";\nimport { _getGist, _getFavoriteRestaurants } from \"../utils/functions\";\n\nconst IndexPage = () => {\n  const [restaurantData, setRestaurantData] = useState(null);\n  const [renderedRestaurantData, setRenderedRestaurantData] = useState(null);\n  const [favoriteRestaurants, setFavoriteRestaurants] = useState([]);\n\n  useEffect(() => {\n    const _loadData = async () => {\n      const everyRestaurantData = await _getGist();\n      let favoriteRestaurants = await _getFavoriteRestaurants();\n      let orderedRestaurantData = await _orderRestaurantData(\n        favoriteRestaurants,\n        everyRestaurantData\n      );\n      setFavoriteRestaurants(favoriteRestaurants);\n      setRenderedRestaurantData(orderedRestaurantData);\n      setRestaurantData(orderedRestaurantData);\n    };\n    _loadData();\n  }, []);\n\n  const _orderRestaurantData = async (favoriteRestaurants, restaurantData) => {\n    let reorderedRestaurantData = [];\n    restaurantData.forEach((restaurant) => {\n      if (favoriteRestaurants.includes(restaurant.name)) {\n        //To the first index\n        reorderedRestaurantData.unshift(restaurant);\n      } else {\n        //To the last index\n        reorderedRestaurantData.push(restaurant);\n      }\n    });\n    return reorderedRestaurantData;\n  };\n\n  const _renderMatchingRestaurants = (matchingRestaurants) => {\n    setRenderedRestaurantData(matchingRestaurants);\n  };\n\n  const _checkIfDataLoaded = () => {\n    if (renderedRestaurantData !== null) {\n      return (\n        <div>\n          <SearchBarComponent\n            renderMatchingRestaurants={_renderMatchingRestaurants}\n            restaurantData={restaurantData}\n          />\n          {renderedRestaurantData.map((restaurant) => (\n            <RestaurantCardComponent\n              key={restaurant.name}\n              restaurantData={restaurant}\n              favoriteRestaurants={favoriteRestaurants}\n            ></RestaurantCardComponent>\n          ))}\n        </div>\n      );\n    } else {\n      return null;\n    }\n  };\n\n  return (\n    <main style={pageStyles}>\n      <title>Opiskelijalounas Ã…bo</title>\n      {_checkIfDataLoaded()}\n    </main>\n  );\n};\n\nconst pageStyles = {\n  backgroundColor: \"#d6ffc7\",\n  color: \"black\",\n  padding: 0,\n  fontFamily: \"-apple-system, Roboto, sans-serif, serif\",\n};\n\nexport default IndexPage;\n"],"names":["view_container","backgroundColor","view_header_row_container","display","flexDirection","margin","marginBottom","alignItems","flexWrap","text_header_meal_type","color","fontFamily","fontWeight","fontSize","marginTop","text_price","marginLeft","text_meal_name","props","menu","style","map","meal","key","name","type","price","_checkIfRestaurantIsFavorite","restaurant","favoriteRestaurants","includes","_getFavoriteRestaurants","async","jsonValue","localStorage","getItem","JSON","parse","e","_storeFavoriteRestaurants","stringify","value","setItem","borderStyle","borderColor","borderWidth","borderRadius","paddingTop","paddingBottom","paddingRight","view_row_container","image_favorite","height","width","text_restaurant_name","textDecoration","marginRight","text_restaurant_open_hours","restaurantData","url","openHours","favoriteRestaurant","setFavoriteRestaurant","useState","useEffect","_addFavoriteRestaurant","newFavoriteRestaurant","currentFavoriteRestaurants","push","undefined","_removeFavoriteRestaurant","indexOfRestaurant","indexOf","splice","href","onClick","Array","isArray","_onFavoriteIconPress","src","container","overflow","text_input","justifyContent","padding","renderMatchingRestaurants","onChange","newSearchTerm","console","log","target","matchingRestaurants","searchTerm","toLowerCase","_searchRestaurantNames","placeholder","pageStyles","setRestaurantData","renderedRestaurantData","setRenderedRestaurantData","setFavoriteRestaurants","everyRestaurantData","response","fetch","data","text","_getGist","orderedRestaurantData","_orderRestaurantData","_loadData","reorderedRestaurantData","forEach","unshift","_renderMatchingRestaurants"],"sourceRoot":""}